<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reflective Writting Meda 350</title>
<!--  <link rel="stylesheet" href="css/typography.css">-->
<!--  <link rel="stylesheet" href="css-about/reset.css">-->
<!--  <script type="text/javascript" src="js/script.js"></script>-->
  <style>
/*    minor setup*/
    body{
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    .box{
      height: 100vh;
      width: 100vw;
      padding: 30px;
      margin: 0;      
    }
/*    loading bar*/
    #loading-container{
      
    }
    #check {
/*      display: none;*/
    }
    #loading-container{
      width: 40%;
      height: fit-content;
/*      background-color: yellow;*/
      margin: auto;  
      padding: 10px;
    }
    #loading-box{
      height: 60px;
      background-color: beige;
      margin: auto;
      
    }
    #loading{
      background-color: black;
    }
    .hidden{
      display: none;
    }
    .center{
      display: block;
      margin-right: auto;
      margin-left: auto;
/*
      display: flex;
      align-content: center;
*/
    }
    .holder{
      overflow-x: hidden;
      overflow-y: hidden;
      width: 70%;
      height: 70%;
      display: flex;
      align-content: center;
      justify-content: center;
      position: relative;
    }
    image{
/*
      top: 0;
      left: 0;
      position: absolute;
*/
      object-fit:cover;
      position: 20%;
      max-height: 100%;
      max-width: 100%;
    }
    form{
      margin: 0 auto;
/*
      display: inline-block;
      align-content: center;
      position: relative;
*/
      width: 70%;
      height: auto;
    }
    label{
      text-align: center;
    }
    .pad{
      padding: 60px;
    }
    .hide{
      display: none;
    }
    .show{
      display: block;
    }
    .t{
      width: auto;
      height: auto;
      display: block;
    }
    
    h1, h2{
      text-align: center;
    }
    .ci{
      width: 300px;
      height: 200px;
    }
    .ciH{
      width: 100%;
      height: auto;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>
 <div class="box" id="scroll" style="background-color: aqua">    
   <h1>Turn on audio</h1>
    <h2>scroll wheel has been disabled. Also don't use developer tool it breaks the website.</h2>
    <h2>Please allow auto play for website.</h2>
    
    <div id="loading-container">
      <div id="loading-box">
        <div id="loading"></div>
      </div>
      <h2 id="loading-text">Loading</h2>
      <h2 id="ready"></h2>
      <p id="checker" style="display: none"></p>
    </div>
    
 </div>
 
<!-- Testing / calibrate volume-->
 <div class="box" id="scroll-one" style="background-color: palegoldenrod">
  <h1>Can you hear?</h1>
  <audio id="test" class="hide sound">
        <source src="sounds/1.mp3" type="audio/mpeg">
    </audio>
  <form class="center ">
   <table>
   <tr>
     <td>
       <input type="radio" id="yes"  name="hear" value="yes" onclick="pageScroll(this.value)">
        <label for="yes">Yes</label>
     </td>
     <td>
        <input type="radio" id="no" name="hear" value="no" onclick="notReady()">
    <label for="no">No</label>
     </td>
   </tr>
    </table>
  </form>
 </div> 
 
<!-- section 1-->
 <div class="box" id="scroll-one" style="background-color: palegoldenrod">
  <h1>About Me</h1>
  <div class="center holder">
    <audio id="sect1" class="hide" onended="pageScroll()">
        <source src="sounds/2.mp3" type="audio/mpeg">
    </audio>
    <p class="hidden check"></p>
    <audio class="hide" >
      <source src="sounds/MIKU.mp3" type="audio/mpeg" >
    </audio>
    <img src="media/about/book.png" class="image show ai">
    <img src="media/about/arm.png"  class="image hide ai">
    <img src="media/about/bot.png"  class="image hide ai">
    <img src="media/about/mat.png"  class="image hide ai">
<!--    <img src="media/about/bot.png"  class="image hide ai">-->
<!--
      <table>
      <td>
        <tr>
          <img src="media/about/book.png" class="t">
        </tr>
        <tr>
          <img src="media/about/arm.png" class="t ">
        </tr>
        <tr>
          <img src="media/about/bot.png" class="t ">
        </tr>
      </td>
       <td>
        <tr>
          <img src="media/about/mat.png" class="t ">
        </tr>
        <tr>
          <img src="media/about/vmf.png" class=" t">
        </tr>
      </td>
    </table>  
-->
    <p class="hidden"></p>
   </div>
 </div> 
 
 <div class="box" id="scroll-one" style="background-color: palegoldenrod">
  <h1>Timeline</h1>
  <div class="center holder">
    <audio id="sect2" class="hide" onended="pageScroll()">
        <source src="sounds/3.mp3" type="audio/mpeg">
    </audio>
    <p class="hidden check"></p>
    <audio class="hide" >
      <source src="sounds/3.mp3" type="audio/mpeg" >
    </audio>
    <img src="media/timeline/543653.png" class="image show tm">
    <img src="media/timeline/1.jpg"  class="image hide tm">
    <img src="media/timeline/IMG_3715.JPG"  class="image hide tm">
    <img src="media/timeline/IMG_5388.JPG"  class="image hide tm">
    <p class="hidden"></p>
<!--
    <video  class="hide image">
        <source src="media/ds.mov" type="video/mp4">
    </video>
-->
   </div>
 </div>
 
<!-- Animation -->
 <div class="box" id="scroll-one" style="background-color: palegoldenrod">
  <h1>Animations</h1>
  <div class="center holder">
    <audio id="sect3" class="hide" onended="pageScroll()">
        <source src="sounds/4.mp3" type="audio/mpeg">
    </audio>
    <p class="hidden check"></p>
    <audio class="hide" >
      <source src="sounds/3.mp3" type="audio/mpeg" >
    </audio>
<!--
    <img src="media/arm/Screenshot%202023-01-30%20at%208.06.48%20PM.png" class="image show ani">
    <img src="media/arm/Screenshot%202023-01-30%20at%208.06.48%20PM.png" class="image hide ani">
    <img src="media/arm/IMG_0109.JPG" class="image hide ani">
    <img src="media/arm/IMG_0110.JPG"  class="image hide ani">
    <img src="media/arm/IMG_0112.JPG"  class="image hide ani">    
-->
     <video  class="show image ani" muted>
        <source src="media/animation/matryshoka.mp4" type="video/mp4">
    </video>
     <video  class="hide image ani" muted>
        <source src="media/animation/Roki.mp4" type="video/mp4">
    </video>
    <video  class="hide image ani" muted>
        <source src="media/animation/Untitled.mp4" type="video/mp4">
    </video>
    <video  class="hide image ani" muted>
        <source src="media/animation/VMF.mp4" type="video/mp4">
    </video>
    <p>All videos are muted for this presentation</p>
   </div>
 </div>
 
<!-- Prosthetic-->
 <div class="box" id="scroll-one" style="background-color: palegoldenrod">
  <h1>Cardboard Prosthetic Arm</h1>
  <div class="center holder">
    <audio id="sect4" class="hide" onended="pageScroll()">
        <source src="sounds/5.mp3" type="audio/mpeg">
    </audio>
    <p class="hidden check"></p>
    <audio class="hide" >
      <source src="sounds/5.mp3" type="audio/mpeg" >
    </audio>
    <img src="media/arm/Screenshot%202023-01-30%20at%208.06.48%20PM.png" class="image show pi">
    <img src="media/arm/Screenshot%202023-01-30%20at%208.06.48%20PM.png" class="image hide pi">
    <img src="media/arm/IMG_0109.JPG" class="image hide pi">
    <img src="media/arm/IMG_0110.JPG"  class="image hide pi">
    <img src="media/arm/IMG_0112.JPG"  class="image hide pi">    
    <p class="hidden"></p>
   </div>
 </div> 
 
<!-- VR project-->
 <div class="box" id="scroll-one" style="background-color: palegoldenrod">
  <h1>VR Gravity</h1>
  <div class="center holder">
    <audio id="sect5" class="hide" onended="pageScroll()">
        <source src="sounds/6.mp3" type="audio/mpeg">
    </audio>
    <video  class="show image" id="vi" muted>
        <source src="media/VR/Assignment%203%20+%20Video%20Lighting.mp4" type="video/mp4">
    </video>
   </div>
 </div>
 
<!-- Ending-->
 <div class="box" id="scroll-one" style="background-color: palegoldenrod">
  <h1>Conclusion</h1>
  <div class="center holder">
    <audio id="sect6" class="hide" onended="pageScroll()">
        <source src="sounds/7.mp3" type="audio/mpeg">
    </audio>
    <p class="hidden check"></p>
    <audio class="hide" >
      <source src="sounds/6.mp3" type="audio/mpeg" >
    </audio>  
    <div class="ciH">
      <a href="https://www.behance.net/gallery/148607631/3D-Graphic-Design-History-Timeline">
        <img src="media/conclusion/Screenshot%202023-03-07%20at%206.09.26%20PM.png" class="ci">
      </a>
      <a href="https://www.behance.net/gallery/148527887/Collage-Effect-Animation-Exercise-%28Matryoshka%29">
        <img src="media/conclusion/mat.png" class="ci">
      </a>      
      <a href="https://www.behance.net/gallery/148536811/Animated-Image-Roki">
        <img src="media/conclusion/Screenshot%202023-03-07%20at%206.05.43%20PM.png" class="ci">
      </a>          
      <a href="https://www.behance.net/gallery/95461285/VMF-Animation">
        <img src="media/conclusion/Screenshot%202023-03-07%20at%206.06.51%20PM.png" class="ci">  
      </a>
      <a href="https://www.behance.net/gallery/145526869/Science-World-science-short">
        <img src="media/conclusion/Screenshot%202023-03-07%20at%206.07.09%20PM.png" class="ci">
      </a> 
      <a href="https://www.behance.net/gallery/95506805/Cardboard-Prosthetic-Hand">
        <img src="media/conclusion/Screenshot%202023-03-07%20at%206.06.20%20PM.png" class="ci">  
      </a>     
      <a href="https://www.behance.net/gallery/157507897/Remaining-gravity-world-testing">
        <img src="media/conclusion/Screenshot%202023-03-07%20at%206.07.22%20PM.png" class="ci">
      </a> 
       <a href="https://www.behance.net/gallery/148545395/1984-Book-cover">
        <img src="media/conclusion/book.png" class="ci">
      </a> 
      
      <a href="https://tacoworm.threadless.com/">
       <img src="media/conclusion/Ramen-export.gif" style=" width:300px; height: 200px; object-fit: contain;">
      </a>     
    </div>
    
    
    <p class="hidden"></p>
   </div>
   <footer>2023 JL Designs</footer>
 </div>

 <script>
   window.scrollTo(0,0);
   var h = screen.height,
       w = screen.width;
//       audio = document.getElementById("test");
   
//   loading bar
   //test each audio   
   var load = 0,
       check = "no",
       loadStart = false,
       progress = document.getElementById("loading");
    
 
   
   window.onload = function () {
     let audioEm = document.querySelectorAll("audio");     
     let imagCh = document.querySelectorAll("img");
     let videoEm = document.querySelectorAll("video");

     var total = audioEm.length + imagCh.length + videoEm.length,  
         holder = 0,
         au = false,
         sec = 0,
         start = 500, 
         auLoop = false,
         auCount = 0,
         imgLoop = false,
         imgCount = 0,
         vidLoop = false,
         vidCount = 0;
         
     loadBoxing = document.getElementById("loading-box").offsetWidth;
     
     loadBoxing = loadBoxing/total;
     document.getElementById("checker").innerHTML = total;
     progress.style.width = 0 + "px";
     progress.style.height = 0 + "px";
     
     for(var j =0; j < total; j++){
       if (audioEm.length == 0){
         if (imagCh.length == 0) {
           if (videoEm.length == 0){
             //no available media
            }
           else{
              //delay audio loading
             vidCount +=1;
             sec = start;
             sec *= vidCount;
             console.log("delay");              
             setTimeout(function(){                                               
               vid(videoEm)                    
             }, sec);
           }
         }         
         else{
           imgCount +=1;
            //delay audio loading
            console.log("delay");
            sec = start;
            sec *= imgCount;
            setTimeout(function(){                              
              working(imagCh)                    
            }, sec );
         }
       }
       else{
//         if (loadStart==false){
//           works(audioEm);
//           auLoop =true;
//           loadStart= true;
//         }
//         else{
            //delay audio loading           
            console.log("delay");
           auCount += 1;
          sec = start;
           sec *= auCount;
            auLoop = true;
            setTimeout(function(){ 
              works(audioEm)                    
            }, sec);
                 
        }
      }   
   }
  
   

   function works(audio){
     if(audio != 0){
       load = load +1;
       holder = load;
       progress.style.width = progress.offsetWidth + loadBoxing + "px";
       progress.style.height = 60 + "px";

       console.log("progress increase" + load);
       document.getElementById("loading-text").innerHTML = load +" loaded";
     }
     else{
       document.getElementById("loading-text").innerHTML = load +" Error";
       progress = progress + "px";
       console.log ("error");
     }
     if (holder ==  document.getElementById("checker").innerHTML){
        document.getElementById("ready").innerHTML = "Everthing loaded"; 
       pageScroll();
     }
   }
   
   function working(image){
     if(image != 0){
       load = load +1;
       holder = load;
       progress.style.width = progress.offsetWidth + loadBoxing + "px";
       progress.style.height = 60 + "px";

//       console.log("progress increase" + load);
       document.getElementById("loading-text").innerHTML = load +" loaded";
     }
     else{
       document.getElementById("loading-text").innerHTML = load +" Error";
       progress = progress + "px";
//       console.log ("error");
     }
     if (holder ==  document.getElementById("checker").innerHTML){
        document.getElementById("ready").innerHTML = "Everthing loaded"; 
     }
   }
        
   function vid(video){
     if (video.onload){
       document.getElementById("loading-text").innerHTML = load +" Loading";
       progress = progress + "px";
     }
     else{
       load = load +1;
       holder = load;
       progress.style.width = progress.offsetWidth + loadBoxing + "px";
       progress.style.height = 60 + "px";
       console.log("progress increase" + load);
       document.getElementById("loading-text").innerHTML = load +" video loaded";
     }
     if (holder ==  document.getElementById("checker").innerHTML){
        document.getElementById("ready").innerHTML = "Everthing loaded";    
     }
   }

   function notReady(){
     document.getElementById("test").play();
   }
   

   //page animation 
   var page = 0,
       locaP =0;
   //audio
   var test = document.getElementById("test"),
       sect1 = document.getElementById("sect1"),
       sect2 = document.getElementById("sect2"),
       sect3 = document.getElementById("sect3"),
       sect4 = document.getElementById("sect4"),
       sect5 = document.getElementById("sect5"),
       sect6 = document.getElementById("sect6"),
       vid = document.getElementsByClassName("vid"),
       track = false,
       first = 0,
       ai = document.getElementsByClassName("ai"),
       ti = document.getElementsByClassName("tm"),
       ani = document.getElementsByClassName("ani"),
       pi = document.getElementsByClassName("pi"),
       tm = document.getElementsByClassName("tm"),
       timeS = 1500,
       Looped =false;
  const delay = async (ms = 1000) => new Promise(resolve => setTimeout(resolve, ms));
   
//cycle through images 
   async function cycle() {
     if (page==2){
       tm = ai;
       timeS = 1000;
     }
     if (page==3){
       tm = ti;
       timeS = 3000;
     }
     if(page==4){
       tm=ani;
       timeS=15000;
     }
     if(page==5){
       tm = pi;
       timeS = 3000;
     }
     for(var i = 0; i < tm.length; i += 1){
//       ih=i;
       if (track){
         if (tm[i-1].classList.contains("show")){           
           tm[i-1].classList.remove("show");
           tm[i-1].classList.add("hide");
           tm[i-1].classList.add("s");
           if(page==4){
             tm[i-1].pause();
           }
         }
         if (tm[i].classList.contains("hide")){
           tm[i].classList.remove("hide");
           tm[i].classList.add("show");
           if(page==4){               
             tm[i].play();
//               tm[i].currentTime=3;
             
           }
         }
       }      
       else{
         if (Looped){
           if(tm[i].classList.contains("show")){           
             tm[i].classList.remove("show");
             tm[i].classList.add("hide");
             tm[i+1].classList.add("show");
             tm[i+1].classList.remove("hide");
             
             if(page==4){
              tm[i].pause(); 
               tm[i+1].play();
             } 
             track=true;
           }
           else{
             if(tm[i].classList.contains("hide")){
               tm[i].classList.remove("hide");
               tm[i].classList.add("show");
               track=true;
               if(page==4){
                 tm[i].play();
               }
             }
           }        
         }
         else{
           if(page==4){
             tm[i].play();
           }
           Looped = true;
           i -= 1;
         }
       }
       await delay(timeS); 
     }
     if(page==4){
       tm[i-1].pause();
     }
     i=0;
     Looped=false;
     track=false;
   }
   //wait
//   async function makeLoopWait() {
//     console.log("finished waiting");
//     await delay(2000);
//   }


   
//scroll page
   function pageScroll() {
        // horizontal and vertical scroll increments
     page +=1;
     console.log("page num"+page);
     locaP = h *page;
//     window.scrollTo(0,(locaP- 300));
     if (page==1){
//       page +=1;
       locaP = h *page;
       window.scrollTo(0,(locaP- 100));
     }
     if(page==2){
//       page +=1;
       locaP = h * page;
       window.scrollTo(0,(locaP- 250));
     }
     if (page==3){
//       page+=1
       locaP = h * page;
       window.scrollTo(0,(locaP-450));
     }
     if(page==4){
       locaP=h*page;
       window.scrollTo(0,(locaP-550));
     }
     if(page==5){
       locaP=h*page;
       window.scrollTo(0,(locaP-650))
     }
     if(page==6){
       locaP=h*page;
       window.scrollTo(0,(locaP-750));
     }
     if(page==7){
       locaP=h*page;
       window.scrollTo(0,(locaP-950));
     }
     
//        scrolldelay = setTimeout('pageScroll()',100); // scrolls every 100 milliseconds
     if (page==1){
       console.log("testing");
       test.play();
//       page +=1;
//       window.scrollTo(0,(locaP));
     }
    if (page==2){
      console.log("about");
      test.pause();
      sect1.play();
      test.currentTime = 0;  
      cycle();
//         page+=1;
//         window.scrollTo(0,(locaP- 300));
    }
     if (page==3){
       console.log("page3");
       sect1.pause();      
       sect2.play();
       console.log("next");
//       makeLoopWait();
       cycle();
//       setTimeout(function(){cycle();},1000);
//       cycle();
//       setTimeout(function(){ 
//              cycle();                    
//            }, 1000);
//       console.log("next2");
//       setTimeout(function(){ cycle();}, 5750);
//       console.log("next 3");
//       setTimeout(function(){ cycle();}, 5750);
        
       
//           page += 1;
//           window.scrollTo(0,(locaP-300));
     }
     if(page==4){
       console.log("pg4: Animation");
       sect2.pause();
       sect3.play();
       console.log("next");
       cycle();
     }
     if(page==5){
       console.log("pg5: Prosthetic");
       sect3.pause();
       sect4.play();
       console.log("next");
       cycle();
     }
     if(page==6){
       console.log("VR")
       sect4.pause();
       sect5.play();
       console.log("next");
       document.getElementById("vi").play();
     }
     if(page==7){
       console.log("conclusion");
       sect5.pause();
       sect6.play();
     }

//     window.scrollTo(0,(h*2));
   }
 </script>
 
</body>
</html>